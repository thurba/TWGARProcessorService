<?xml version="1.0" encoding="utf-8" ?>
<log4net>
  <!-- Console appender with ECS JSON output -->
  <appender name="Console" type="log4net.Appender.ConsoleAppender">
    <layout type="Elastic.CommonSchema.Log4net.EcsLayout, Elastic.CommonSchema.Log4net">
      <AdditionalFields>
        <KeyValuePair key="service.name" value="dm-twg-laserfiche-kafka-consumer-service" />
        <KeyValuePair key="ecs.version" value="1.4.0" />
      </AdditionalFields>
      <IncludeHostFields value="false" />
      <IncludeProcessFields value="false" />
      <IncludeAgentFields value="false" />
      <IncludeUserFields value="false" />
    </layout>
  </appender>

  <!-- File appender with ECS JSON output -->
  <appender name="FileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="/app/logs/KafkaConsumerService.log" />
    <appendToFile value="true" />
    <rollingStyle value="Date" />
    <datePattern value="yyyy-MM-dd'.log'" />
    <staticLogFileName value="false" />
    <maxSizeRollBackups value="10" />
    <maximumFileSize value="10MB" />
    <layout type="Elastic.CommonSchema.Log4net.EcsLayout, Elastic.CommonSchema.Log4net">
      <AdditionalFields>
        <KeyValuePair key="service.name" value="dm-twg-laserfiche-kafka-consumer-service" />
        <KeyValuePair key="ecs.version" value="1.4.0" />
      </AdditionalFields>
      <IncludeHostFields value="false" />
      <IncludeProcessFields value="false" />
      <IncludeAgentFields value="false" />
      <IncludeUserFields value="false" />
    </layout>
  </appender>

  <!-- Root logger -->
  <root>
    <level value="INFO" />
    <appender-ref ref="Console" />
    <appender-ref ref="FileAppender" />
  </root>
</log4net>
